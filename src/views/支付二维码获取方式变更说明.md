# äºŒç»´ç è·å–æ–¹å¼å˜æ›´è¯´æ˜

## å˜æ›´æ¦‚è¿°

ä¸ºäº†è§£å†³ç¬¬ä¸‰æ–¹äºŒç»´ç æœåŠ¡ä¸ç¨³å®šçš„é—®é¢˜ï¼Œç°åœ¨æ”¹ä¸ºä½¿ç”¨åç«¯ç”ŸæˆäºŒç»´ç å¹¶ä¸Šä¼ åˆ°é˜¿é‡Œäº‘OSSå­˜å‚¨ã€‚

## å˜æ›´å¯¹æ¯”

### ğŸ”´ ä¹‹å‰çš„æ–¹å¼ï¼ˆå·²åºŸå¼ƒï¼‰

å‰ç«¯è‡ªå·±æ‹¼æ¥ç¬¬ä¸‰æ–¹æœåŠ¡URLï¼š
```javascript
// âŒ æ—§æ–¹å¼ - ä¸ç¨³å®šï¼Œç»å¸¸åŠ è½½å¤±è´¥
const qrImageUrl = `https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(qrCodeData)}`;
```

### ğŸŸ¢ ç°åœ¨çš„æ–¹å¼ï¼ˆæ¨èï¼‰

ç›´æ¥ä½¿ç”¨åç«¯æä¾›çš„äºŒç»´ç å›¾ç‰‡æ¥å£ï¼š
```javascript
// âœ… æ–°æ–¹å¼ - ç¨³å®šçš„OSSå­˜å‚¨
const qrImageUrl = `/api/payment/orders/${orderNo}/qrcode-image`;
```

## æ¥å£è¯´æ˜

### è·å–äºŒç»´ç å›¾ç‰‡

**æ¥å£**: `GET /api/payment/orders/{orderNo}/qrcode-image`

**å“åº”**: 
- æˆåŠŸæ—¶è¿”å› `302 é‡å®šå‘` åˆ°OSSä¸Šçš„äºŒç»´ç å›¾ç‰‡
- å¤±è´¥æ—¶è¿”å›æœ¬åœ°ç”Ÿæˆçš„PNGå›¾ç‰‡

**ç¤ºä¾‹**:
```
GET /api/payment/orders/WL1727251200001ABC/qrcode-image
â†“
302 é‡å®šå‘åˆ°: https://ultimate-img.oss-cn-beijing.aliyuncs.com/qrcodes/20250925/qrcode_WL1727251200001ABC_1727251200000.png
```

## å‰ç«¯ä½¿ç”¨æ–¹å¼

### 1. ç›´æ¥åœ¨imgæ ‡ç­¾ä¸­ä½¿ç”¨

```html
<img src="/api/payment/orders/WL1727251200001ABC/qrcode-image" 
     alt="æ”¯ä»˜äºŒç»´ç " 
     style="width: 200px; height: 200px;" />
```

### 2. åœ¨JavaScriptä¸­ä½¿ç”¨

```javascript
// è·å–è®¢å•å·åç›´æ¥ä½¿ç”¨
const orderNo = 'WL1727251200001ABC';
const qrImageUrl = `https://ilikexff.cn/api/payment/orders/${orderNo}/qrcode-image`;

// è®¾ç½®åˆ°imgå…ƒç´ 
document.getElementById('qrcode').src = qrImageUrl;
```

### 3. åœ¨React/Vueä¸­ä½¿ç”¨

```jsx
// React
function PaymentQRCode({ orderNo }) {
  const qrImageUrl = `https://ilikexff.cn/api/payment/orders/${orderNo}/qrcode-image`;
  
  return (
    <img 
      src={qrImageUrl}
      alt="æ”¯ä»˜äºŒç»´ç "
      style={{ width: 200, height: 200 }}
    />
  );
}
```

```vue
<!-- Vue -->
<template>
  <img 
    :src="qrImageUrl"
    alt="æ”¯ä»˜äºŒç»´ç "
    style="width: 200px; height: 200px;"
  />
</template>

<script>
export default {
  props: ['orderNo'],
  computed: {
    qrImageUrl() {
      return `https://ilikexff.cn/api/payment/orders/${this.orderNo}/qrcode-image`;
    }
  }
}
</script>
```

## ä¼˜åŠ¿

1. **ç¨³å®šæ€§**: ä½¿ç”¨è‡ªæœ‰é˜¿é‡Œäº‘OSSå­˜å‚¨ï¼Œä¸ä¾èµ–ç¬¬ä¸‰æ–¹æœåŠ¡
2. **é€Ÿåº¦**: OSSæ”¯æŒCDNåŠ é€Ÿï¼Œè®¿é—®æ›´å¿«
3. **é™çº§**: OSSå¤±è´¥æ—¶è‡ªåŠ¨é™çº§åˆ°æœ¬åœ°ç”Ÿæˆ
4. **ç®€å•**: å‰ç«¯åªéœ€è¦ä¸€ä¸ªURLï¼Œæ— éœ€å¤„ç†äºŒç»´ç ç”Ÿæˆé€»è¾‘

## æ³¨æ„äº‹é¡¹

1. **ç¼“å­˜**: äºŒç»´ç å›¾ç‰‡ä¼šç¼“å­˜5åˆ†é’Ÿï¼Œé¿å…å¾®ä¿¡æ”¯ä»˜URLè¿‡æœŸ
2. **é‡è¯•**: å¦‚æœå›¾ç‰‡åŠ è½½å¤±è´¥ï¼Œå¯ä»¥é‡æ–°è¯·æ±‚è¯¥æ¥å£
3. **HTTPS**: ç”Ÿäº§ç¯å¢ƒè¯·ä½¿ç”¨HTTPSè®¿é—®

## è¿ç§»æ­¥éª¤

1. å°†æ‰€æœ‰ä½¿ç”¨ `api.qrserver.com` çš„åœ°æ–¹æ›¿æ¢ä¸ºæ–°æ¥å£
2. åˆ é™¤å‰ç«¯çš„äºŒç»´ç ç”Ÿæˆç›¸å…³ä»£ç 
3. æµ‹è¯•ç¡®ä¿äºŒç»´ç æ­£å¸¸æ˜¾ç¤º

---

**ç”Ÿæ•ˆæ—¶é—´**: ç«‹å³ç”Ÿæ•ˆ  
**å½±å“èŒƒå›´**: æ‰€æœ‰æ”¯ä»˜äºŒç»´ç æ˜¾ç¤ºåŠŸèƒ½
