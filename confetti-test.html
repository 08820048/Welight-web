<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>撒花特效测试页面</title>
    <script src="https://cdn.jsdelivr.net/npm/tsparticles-confetti@2.12.0/tsparticles.confetti.bundle.min.js"></script>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
      }

      .container {
        background: white;
        border-radius: 20px;
        padding: 40px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        text-align: center;
        max-width: 500px;
        width: 100%;
      }

      h1 {
        color: #333;
        margin-bottom: 30px;
        font-size: 2rem;
        font-weight: 600;
      }

      .description {
        color: #666;
        margin-bottom: 40px;
        line-height: 1.6;
        font-size: 1.1rem;
      }

      .button-group {
        display: grid;
        gap: 15px;
        margin-bottom: 30px;
      }

      .confetti-btn {
        padding: 15px 30px;
        border: none;
        border-radius: 12px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .confetti-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
      }

      .confetti-btn:active {
        transform: translateY(0);
      }

      .btn-success {
        background: linear-gradient(135deg, #22c55e, #16a34a);
        color: white;
      }

      .btn-celebration {
        background: linear-gradient(135deg, #f59e0b, #d97706);
        color: white;
      }

      .btn-rainbow {
        background: linear-gradient(135deg, #8b5cf6, #ec4899);
        color: white;
      }

      .btn-gold {
        background: linear-gradient(135deg, #fbbf24, #f59e0b);
        color: white;
      }

      .btn-auto {
        background: linear-gradient(135deg, #3b82f6, #1d4ed8);
        color: white;
      }

      .settings {
        background: #f8fafc;
        border-radius: 12px;
        padding: 20px;
        margin-top: 30px;
        text-align: left;
      }

      .settings h3 {
        color: #374151;
        margin-bottom: 15px;
        font-size: 1.1rem;
      }

      .setting-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
      }

      .setting-item label {
        color: #6b7280;
        font-size: 0.9rem;
      }

      .setting-item input {
        width: 80px;
        padding: 5px 8px;
        border: 1px solid #d1d5db;
        border-radius: 6px;
        font-size: 0.9rem;
      }

      .auto-trigger {
        background: #fef3c7;
        border: 1px solid #fbbf24;
        border-radius: 8px;
        padding: 15px;
        margin-top: 20px;
        color: #92400e;
        font-size: 0.9rem;
      }

      @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.7; }
      }

      .pulse {
        animation: pulse 2s infinite;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>🎉 撒花特效测试</h1>
      <p class="description">
        这是一个独立的撒花特效测试页面，提取自支付成功页面。
        点击下面的按钮体验不同的撒花效果！
      </p>

      <div class="button-group">
        <button class="confetti-btn btn-success" onclick="triggerSuccessConfetti()">
          ✅ 支付成功撒花
        </button>
        
        <button class="confetti-btn btn-celebration" onclick="triggerCelebrationConfetti()">
          🎊 庆祝撒花
        </button>
        
        <button class="confetti-btn btn-rainbow" onclick="triggerRainbowConfetti()">
          🌈 彩虹撒花
        </button>
        
        <button class="confetti-btn btn-gold" onclick="triggerGoldConfetti()">
          ✨ 金色撒花
        </button>
        
        <button class="confetti-btn btn-auto pulse" onclick="triggerAutoConfetti()">
          🚀 自动连续撒花
        </button>
      </div>

      <div class="settings">
        <h3>⚙️ 撒花参数设置</h3>
        <div class="setting-item">
          <label>粒子数量:</label>
          <input type="number" id="particleCount" value="100" min="10" max="500">
        </div>
        <div class="setting-item">
          <label>扩散角度:</label>
          <input type="number" id="spread" value="70" min="10" max="180">
        </div>
        <div class="setting-item">
          <label>发射位置 Y:</label>
          <input type="number" id="originY" value="0.6" min="0" max="1" step="0.1">
        </div>
        <div class="setting-item">
          <label>发射位置 X:</label>
          <input type="number" id="originX" value="0.5" min="0" max="1" step="0.1">
        </div>
      </div>

      <div class="auto-trigger">
        💡 <strong>提示:</strong> 页面加载后会自动触发一次撒花效果，模拟支付成功的场景。
      </div>
    </div>

    <script>
      /**
       * 获取当前设置的参数
       * @returns {Object} 包含所有撒花参数的对象
       */
      function getConfettiSettings() {
        return {
          particleCount: parseInt(document.getElementById('particleCount').value) || 100,
          spread: parseInt(document.getElementById('spread').value) || 70,
          origin: {
            x: parseFloat(document.getElementById('originX').value) || 0.5,
            y: parseFloat(document.getElementById('originY').value) || 0.6
          }
        };
      }

      /**
       * 支付成功撒花效果 - 绿色主题
       */
      function triggerSuccessConfetti() {
        const settings = getConfettiSettings();
        confetti({
          ...settings,
          colors: ['#22C55E', '#4ADE80', '#BBF7D0', '#F1F5F9', '#10B981']
        });
      }

      /**
       * 庆祝撒花效果 - 多彩主题
       */
      function triggerCelebrationConfetti() {
        const settings = getConfettiSettings();
        confetti({
          ...settings,
          colors: ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7', '#DDA0DD']
        });
      }

      /**
       * 彩虹撒花效果 - 彩虹色彩
       */
      function triggerRainbowConfetti() {
        const settings = getConfettiSettings();
        confetti({
          ...settings,
          colors: ['#FF0000', '#FF7F00', '#FFFF00', '#00FF00', '#0000FF', '#4B0082', '#9400D3']
        });
      }

      /**
       * 金色撒花效果 - 金色主题
       */
      function triggerGoldConfetti() {
        const settings = getConfettiSettings();
        confetti({
          ...settings,
          colors: ['#FFD700', '#FFA500', '#FFFF00', '#F0E68C', '#DAA520']
        });
      }

      /**
       * 自动连续撒花效果
       */
      function triggerAutoConfetti() {
        const colors = [
          ['#22C55E', '#4ADE80', '#BBF7D0'],
          ['#FF6B6B', '#4ECDC4', '#45B7D1'],
          ['#FFD700', '#FFA500', '#FFFF00'],
          ['#8b5cf6', '#ec4899', '#f59e0b']
        ];
        
        let index = 0;
        const interval = setInterval(() => {
          const settings = getConfettiSettings();
          confetti({
            ...settings,
            particleCount: 60,
            colors: colors[index % colors.length]
          });
          
          index++;
          if (index >= 8) { // 连续8次后停止
            clearInterval(interval);
          }
        }, 300);
      }

      /**
       * 页面加载时自动触发撒花效果
       */
      window.addEventListener('load', () => {
        setTimeout(() => {
          triggerSuccessConfetti();
          console.log('🎉 欢迎使用撒花特效测试页面！');
        }, 800);
      });

      /**
       * 键盘快捷键支持
       */
      document.addEventListener('keydown', (event) => {
        switch(event.key) {
          case '1':
            triggerSuccessConfetti();
            break;
          case '2':
            triggerCelebrationConfetti();
            break;
          case '3':
            triggerRainbowConfetti();
            break;
          case '4':
            triggerGoldConfetti();
            break;
          case '5':
            triggerAutoConfetti();
            break;
        }
      });

      // 添加一些交互提示
      console.log('🎮 键盘快捷键: 1-5 数字键可快速触发不同的撒花效果');
    </script>
  </body>
</html>